<div class="wrapper">
  <!-- Contenedor principal del formulario para maestros -->
  <div class="section-registro">
    <div class="body-registro admin-form-wrapper">
      <!-- Título del formulario -->
      <div class="row mt-3 mb-3">
        <div class="form-group col-24 text-center">
          <h2 class="form-title" for="tipo_usuario">
            Ingresa los datos del maestro
          </h2>
        </div>
      </div>

      <!-- ID del trabajador -->
      <div class="input-group-custom">
        <i class="bi bi-person-badge-fill icon"></i>
        <div class="input-group">
          <input
            type="text"
            id="id_trabajador"
            placeholder="ID de trabajador"
            [(ngModel)]="maestro.id_trabajador"
            name="id_trabajador"
          />
        </div>
        <div *ngIf="errors.id_trabajador" class="invalid-feedback">
          {{ errors.id_trabajador }}
        </div>
      </div>

      <!-- Nombre -->
      <div class="input-group-custom">
        <i class="bi bi-person-fill icon"></i>
        <div class="input-group">
          <input
            type="text"
            id="nombre"
            placeholder="Nombre"
            [(ngModel)]="maestro.first_name"
          />
        </div>
        <div *ngIf="errors.first_name" class="invalid-feedback">
          {{ errors.first_name }}
        </div>
      </div>

      <!-- Apellidos -->
      <div class="input-group-custom">
        <i class="bi bi-people-fill icon"></i>
        <div class="input-group">
          <input
            type="text"
            id="apellidos"
            placeholder="Apellidos"
            [(ngModel)]="maestro.last_name"
          />
        </div>
        <div *ngIf="errors.last_name" class="invalid-feedback">
          {{ errors.last_name }}
        </div>
      </div>

      <!-- Correo electrónico -->
      <div class="input-group-custom">
        <i class="bi bi-envelope-fill icon"></i>
        <div class="input-group">
          <input
            type="email"
            id="email"
            placeholder="Correo electrónico"
            [(ngModel)]="maestro.email"
            [readonly]="editar || isSelfEdit"
          />
        </div>
        <div *ngIf="errors.email" class="invalid-feedback">
          {{ errors.email }}
        </div>
      </div>

      <!-- Contraseña -->
      <div class="input-group-custom" *ngIf="!editar && !isSelfEdit">
        <i class="bi bi-lock-fill icon"></i>
        <div class="input-group">
          <input
            id="password"
            placeholder="Contraseña"
            [(ngModel)]="maestro.password"
            [type]="inputType_1"
          />
        </div>
        <i
          class="bi eye-toggle"
          [ngClass]="hide_1 ? 'bi-eye-slash-fill' : 'bi-eye-fill'"
          (click)="showPassword()"
        ></i>
        <div *ngIf="errors.password" class="invalid-feedback">
          {{ errors.password }}
        </div>
      </div>

      <!-- Confirmar contraseña -->
      <div class="input-group-custom" *ngIf="!editar && !isSelfEdit">
        <i class="bi bi-lock-fill icon"></i>
        <div class="input-group">
          <input
            id="password_confirm"
            placeholder="Confirmar contraseña"
            [(ngModel)]="maestro.confirmar_password"
            [type]="inputType_2"
          />
        </div>
        <i
          class="bi eye-toggle"
          [ngClass]="hide_2 ? 'bi-eye-slash-fill' : 'bi-eye-fill'"
          (click)="showPwdConfirmar()"
        ></i>
        <div *ngIf="errors.confirmar_password" class="invalid-feedback">
          {{ errors.confirmar_password }}
        </div>
      </div>

      <!-- Fecha de nacimiento -->
      <div class="input-group-custom">
        <i class="bi bi-calendar-event-fill icon"></i>
        <div class="input-group">
          <input
            type="date"
            id="fecha_nacimiento"
            placeholder="Fecha de nacimiento"
            [(ngModel)]="maestro.fecha_nacimiento"
          />
        </div>
        <div *ngIf="errors.fecha_nacimiento" class="invalid-feedback">
          {{ errors.fecha_nacimiento }}
        </div>
      </div>

      <!-- Teléfono -->
      <div class="input-group-custom">
        <i class="bi bi-telephone-fill icon"></i>
        <div class="input-group">
          <input
            id="telefono"
            placeholder="Teléfono"
            [(ngModel)]="maestro.telefono"
            mask="(000) 000-0000"
          />
        </div>
        <div *ngIf="errors.telefono" class="invalid-feedback">
          {{ errors.telefono }}
        </div>
      </div>

      <!-- RFC -->
      <div class="input-group-custom">
        <i class="bi bi-file-earmark-person-fill icon"></i>
        <div class="input-group">
          <input
            id="rfc"
            placeholder="RFC"
            [(ngModel)]="maestro.rfc"
            minlength="12"
            maxlength="13"
            style="text-transform: uppercase;"
          />
        </div>
        <div *ngIf="errors.rfc" class="invalid-feedback">
          {{ errors.rfc }}
        </div>
      </div>

      <!-- Cubículo -->
      <div class="input-group-custom">
        <i class="bi bi-building-fill icon"></i>
        <div class="input-group">
          <input
            id="cubiculo"
            placeholder="Cubículo"
            [(ngModel)]="maestro.cubiculo"
          />
        </div>
        <div *ngIf="errors.cubiculo" class="invalid-feedback">
          {{ errors.cubiculo }}
        </div>
      </div>

      <!-- Área de investigación -->
      <div class="input-group-custom">
        <i class="bi bi-journal-richtext icon"></i>
        <div class="input-group">
          <select [(ngModel)]="maestro.area_investigacion">
            <option value="" disabled selected>Selecciona área de investigación</option>
            <option *ngFor="let area of areas" [value]="area.viewValue">
              {{ area.viewValue }}
            </option>
          </select>
        </div>
        <div *ngIf="errors.area_investigacion" class="invalid-feedback">
          {{ errors.area_investigacion }}
        </div>
      </div>

      <!-- Materias -->
      <div class="materias-section">
        <div class="row mt-3 mb-3">
          <div class="form-group col-24">
            <h3 class="title-materias">Selecciona las materias a impartir</h3>
          </div>
        </div>
        <div *ngFor="let materia of materias" class="checkbox-group">
          <label>
            <input
              type="checkbox"
              [value]="materia.nombre"
              [checked]="revisarSeleccion(materia.nombre)"
              (change)="checkboxChange($event, materia.nombre)"
            />
            <span>{{ materia.nombre }}</span>
          </label>
        </div>
        <div *ngIf="errors.materias_json" class="invalid-feedback">
          {{ errors.materias_json }}
        </div>
      </div>

      <!-- Botones -->
      <div class="section-buttons">
        <button class="btn btn-danger" (click)="regresar()">
          Cancelar
        </button>
        <button
          *ngIf="!editar"
          class="btn btn-primary"
          type="submit"
          (click)="registrar()"
        >
          Registrar
        </button>
        <button
          *ngIf="editar"
          class="btn btn-primary"
          type="submit"
          (click)="actualizar()"
        >
          Actualizar
        </button>
      </div>
    </div>
  </div>
</div>